
# Software Benchmarking Script
A simple method for launching a process and collecting system resource utilisation statistics.

## Contents
`sbs.py` is used to execute a command and monitor system resources used by the opened process

`plotter.py` is used to plot the output data generated by `sbs.py`

`stats.py` is used to generate statistics on the data generated by `sbs.py`

## Usage
1. Clone the repository to your machine

```git clone https://github.com/jakeb1996/SBS```

2. Open your CLI and navigate to the root directory of the repository.

### sbs.py
3. To run the `sbs.py` script, use the following command:

```python sbs.py -c <command> -o <data-output-file> -s <polling-interval-secs> -l <tailable-y-n>```

Command arguments include:

`c` The command to run. eg: `notepad.exe`. 

`o` Filename for saving the data to eg: `output.csv`. 

`s` The polling interval for checking utilisation of system resources, in seconds. eg: `1`. 

`l` Toggle whether the data output file is tailable (y/n). eg: `y` ie: `tail -f output.csv.log`

### plotter.py
4. To run the `plotter.py` script, use the following command:

```python plotter.py -f <data-input-file> -t <tool-name-as-string>```

Command arguments include:

`f` The data input file (in CSV format) generated by `sbs.py` eg: `output.csv`

`t` The name of the tool analysed by `sbs.py` eg: `"Cas-OFFinder"`

Plots are configured within the Python script. See file for details.


### stats.py
5. To run the `stats.py` script, use the following command:

```python stats.py -f <data-input-file> -t <tool-name-as-string>```

Command arguments include:

`f` The data input file (in CSV format) generated by `sbs.py` eg: `output.csv`

`t` The name of the tool analysed by `sbs.py` eg: `"Cas-OFFinder"`

Statistical output is configured within the Python script. See file for details.


## Output
### sbs.py

Many files are generated by `sbs.py`:

1. The most important; a CSV file located and named according to the `o` argument. This file is an aggregate of all system resource utilisation (consumed by the command `c` and its children). By default, the following is included in that file:

*Notably, some values are instantaneous (eg: CPU usage) and some are cumulative (total read operations on the disk since starting).*

**Instantaneous statistics**

```
Time of recording

Number of threads 

CPU utilisation as percentage. Values over 100% indicate utilisation of multiple cores.

Resident Set Size memory usage (physical memory usage)

Virtual Memory Size (phy+vir memory)

Number of child processes
```

**Cumulative statistics**

```
IO read count

IO read bytes

IO write count

IO write bytes
```

 A log file describing:
 
- Launch time

- Launch parameters

- Debug info (when appropriate)

- Clean-up process

	
4.  For each of the measurements described above, a separate CSV file is generated per measurement, per process (ie: one for the parent, and one for each child)

	The filename is formatted as following:
	
`<o>_<start-time>_<c>__<measurement>.csv` *where `o` and `c` are the arguments you specified*

	An example of this file is: 
	
`excel_51841526615370.0_C_Program_Files_(x86)_Microsoft_Office_Office16_EXCEL.EXE__io_read_count.csv`

	
### plotter.py
Associated PNG files are generated for each plot. Output files are placed in the same directory as the input file.

### stats.py
A single CSV file is generated for data measurement. The output file is placed in the same directory as the input file. Currently `stats.py` generates the following:

 - Count (number of data points)
 
 - Minimum
 
 - Maximum
 
 - Median
 
 - Mean
 
 - Upper quartile
 
 - Lower quartile
 
 - Standard deviation
 
 - Start time
 
 - End time
 
 - Elapsed time

## Dependencies
SBS depends on the `psutil` library available via pip. 

`pip install psutil`

Pip: <https://pypi.org/project/psutil/>

Documentation: <https://psutil.readthedocs.io>